<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tech News</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background-color: #f4f4f4;
      }
      header {
        background-color: #333;
        color: #fff;
        text-align: center;
        padding: 1rem;
      }
      main {
        max-width: 800px;
        margin: auto;
        background-color: #fff;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
      }
      #article {
        margin-top: 20px;
      }
      #article h2 {
        color: #444;
      }
      #article p {
        color: #666;
      }
      #article a {
        display: inline-block;
        background-color: #333;
        color: #fff;
        padding: 10px 15px;
        text-decoration: none;
        border-radius: 5px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Tech News</h1>
    </header>
    <main>
      <div id="article">
        <h2>Loading article...</h2>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ipsum
          dolor sit amet consectetur adipiscing elit. Suspendisse faucibus
          interdum posuere lorem ipsum dolor. Vel pretium lectus quam id leo in.
          Integer feugiat scelerisque varius morbi enim nunc faucibus a
          pellentesque. Risus sed vulputate odio ut enim blandit volutpat
          maecenas volutpat. Facilisis gravida neque convallis a cras. Sed
          elementum tempus egestas sed. Quis vel eros donec ac odio tempor orci.
          In fermentum posuere urna nec tincidunt. Id leo in vitae turpis massa
          sed elementum tempus egestas. Faucibus nisl tincidunt eget nullam non.
        </p>
        <p>
          Ipsum nunc aliquet bibendum enim facilisis gravida neque convallis a.
          Posuere ac ut consequat semper viverra nam libero justo. Aenean vel
          elit scelerisque mauris. Integer eget aliquet nibh praesent tristique
          magna sit. Nisi quis eleifend quam adipiscing. Mollis aliquam ut
          porttitor leo. Turpis in eu mi bibendum neque. Ac auctor augue mauris
          augue neque gravida. Nunc sed id semper risus in. Ac turpis egestas
          integer eget aliquet nibh praesent tristique magna. Quam viverra orci
          sagittis eu. Nibh venenatis cras sed felis eget velit aliquet. Morbi
          quis commodo odio aenean sed adipiscing diam. Risus viverra adipiscing
          at in tellus. Sem viverra aliquet eget sit amet tellus cras. Ornare
          quam viverra orci sagittis eu volutpat odio. Donec ac odio tempor
          orci. Eget dolor morbi non arcu. Pellentesque habitant morbi tristique
          senectus et netus et malesuada fames. Ornare suspendisse sed nisi
          lacus sed.
        </p>
        <p>
          Nam at lectus urna duis convallis convallis tellus id. Mattis rhoncus
          urna neque viverra. Nullam vehicula ipsum a arcu cursus vitae.
          Tristique senectus et netus et malesuada. Natoque penatibus et magnis
          dis parturient. Semper viverra nam libero justo laoreet sit amet
          cursus. Faucibus ornare suspendisse sed nisi lacus sed viverra tellus.
          Morbi non arcu risus quis varius quam quisque. Tincidunt praesent
          semper feugiat nibh sed pulvinar proin. Leo vel fringilla est
          ullamcorper eget nulla. Faucibus et molestie ac feugiat sed lectus.
          Elit pellentesque habitant morbi tristique senectus et netus et
          malesuada. Pellentesque nec nam aliquam sem et tortor consequat.
          Lectus quam id leo in vitae. Quis viverra nibh cras pulvinar mattis
          nunc sed. Ut venenatis tellus in metus vulputate eu scelerisque felis.
          Ultricies lacus sed turpis tincidunt id aliquet risus feugiat in.
          Pellentesque habitant morbi tristique senectus et netus. Odio aenean
          sed adipiscing diam donec adipiscing tristique risus. Amet consectetur
          adipiscing elit duis tristique.
        </p>
        <a href="#" target="_blank">Read More</a>
      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fetchTechNews();
        fetchArticle();
      });

      async function fetchTechNews() {
        try {
          const response = await fetch("http://localhost:8080/technews");
          const data = await response.json();
          document.querySelector("header h1").textContent = data.title;
          document
            .querySelector("main")
            .insertAdjacentHTML("afterbegin", `<p>${data.description}</p>`);
        } catch (error) {
          console.error("Error fetching tech news:", error);
        }
      }

      async function fetchArticle() {
        try {
          const articleTitle = "latest-tech-trends";
          const response = await fetch(
            `http://localhost:8080/technews/${articleTitle}`,
            {
              method: "POST",
            }
          );
          const data = await response.json();

          const articleElement = document.getElementById("article");
          articleElement.querySelector("h2").textContent = data.title;
          articleElement.querySelector("p").textContent = data.description;
          articleElement.querySelector("a").href = data.url;
        } catch (error) {
          console.error("Error fetching article:", error);
        }
      }
    </script>
  </body>
</html>
